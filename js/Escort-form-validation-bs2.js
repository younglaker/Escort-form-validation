// Generated by CoffeeScript 1.6.3
var EscortForm;

EscortForm = function(f) {
  var form;
  form = $(f);
  console.log("111");
  form.attr("Escort", true);
  console.log(form.attr("Escort"));
  form.find("input, textarea, select").parent().append("<span class='help-inline tip-red oct-tips'>aaa</span>");
  return form.submit(function() {
    var qualified, reg_email;
    qualified = true;
    reg_email = /^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/;
    form.find(".oct-required").each(function() {
      if (this.value === "") {
        $(this).parent().find(".oct-tips").html("请填写");
        return qualified = false;
      } else {
        return $(this).parent().find(".oct-tips").html("");
      }
    });
    if (qualified !== true) {
      return false;
    }
    form.find(".oct-email").each(function() {
      var mail;
      mail = reg_email.test(this.value);
      if (mail !== true) {
        $(this).parent().find(".oct-tips").html("请填写正确邮箱");
        return qualified = false;
      } else {
        return $(this).parent().find(".oct-tips").html("");
      }
    });
    if (qualified !== true) {
      return false;
    }
    form.find(".oct-positive").each(function() {
      var val;
      val = this.value;
      if (isNaN(val) !== NaN) {
        if (val <= 0) {
          $(this).parent().find(".oct-tips").html("请填写正数");
          return qualified = false;
        } else {
          return $(this).parent().find(".oct-tips").html("");
        }
      } else {
        $(this).parent().find(".oct-tips").html("请填写正数");
        return qualified = false;
      }
    });
    if (qualified !== true) {
      return false;
    }
    form.find("input, textarea, select").each(function() {
      if (this.getAttribute("octmax")) {
        if (this.value > this.getAttribute("octmax")) {
          $(this).parent().find(".oct-tips").html("太大了");
          qualified = false;
          console.log(this.getAttribute("octmax"));
          return console.log("444");
        }
      } else if (this.octmax) {
        $(this).parent().find(".oct-tips").html("太大了");
        qualified = false;
        return console.log("44455");
      }
    });
    if (qualified !== true) {
      return false;
    }
  });
};
