// Generated by CoffeeScript 1.6.3
(function($) {
  $.fn.EscortForm = function(options) {
    var form, opts, selector;
    opts = $.extend({}, $.fn.EscortForm.options, options);
    selector = "input, textarea, select";
    form = this;
    form.find(selector).parent().append("<span class='help-inline tip-red oct-tips'>aaa</span>");
    return form.submit(function() {
      var qualified, reg_email;
      qualified = true;
      reg_email = /^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/;
      form.find(selector).each(function() {
        if ($(this).attr("esRequired") === "true") {
          if (this.value === "") {
            qualified = false;
            return $(this).parent().find(".oct-tips").html(opts.tip_required);
          } else {
            return $(this).parent().find(".oct-tips").html("");
          }
        }
      });
      console.log("2" + qualified);
      if (qualified !== true) {
        return false;
      }
      console.log("55");
      form.find(selector).each(function() {
        if ($(this).attr("esMax")) {
          if (this.value > $(this).attr("esMax")) {
            qualified = false;
            return $(this).parent().find(".oct-tips").html(opts.tip_max + $(this).attr("esMax"));
          }
        }
      });
      alert("555");
      console.log("3" + qualified);
      if (qualified !== true) {
        return false;
      }
    });
  };
  return $.fn.EscortForm.options = {
    tip_required: "Required here",
    tip_max: "Can't lager than "
  };
})(jQuery);
